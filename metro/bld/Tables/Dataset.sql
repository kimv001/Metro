CREATE TABLE [bld].[Dataset] (
    [DatasetId]                              INT           IDENTITY (1, 1) NOT NULL,
    [BK]                                     VARCHAR (255) NULL,
    [Code]                                   VARCHAR (255) NULL,
    [DatasetName]                            VARCHAR (255) NULL,
    [SchemaName]                             VARCHAR (255) NULL,
    [DataSource]                             VARCHAR (255) NULL,
    [BK_Schema]                              VARCHAR (255) NULL,
    [BK_Group]                               VARCHAR (255) NULL,
    [BK_Segment]                             VARCHAR (255) NULL,
    [BK_Bucket]                              VARCHAR (255) NULL,
    [ShortName]                              VARCHAR (255) NULL,
    [SRC_ShortName]                          VARCHAR (255) NULL,
    [dwhTargetShortName]                     VARCHAR (255) NULL,
    [ReplaceAttributeNames]                  VARCHAR (255) NULL,
    [Prefix]                                 VARCHAR (255) NULL,
    [PostFix]                                VARCHAR (255) NULL,
    [Description]                            VARCHAR (255) NULL,
    [BK_ContactGroup]                        VARCHAR (255) NULL,
    [bk_ContactGroup_Data_Logistics]         VARCHAR (255) NULL,
    [Data_Logistics_Info]                    VARCHAR (255) NULL,
    [bk_ContactGroup_Data_Supplier]          VARCHAR (255) NULL,
    [Data_Supplier_Info]                     VARCHAR (255) NULL,
    [BK_Flow]                                VARCHAR (255) NULL,
    [TimeStamp]                              VARCHAR (255) NULL,
    [BusinessDate]                           VARCHAR (MAX) NULL,
    [RecordSrcDate]                          VARCHAR (MAX) NULL,
    [WhereFilter]                            VARCHAR (255) NULL,
    [SCD]                                    VARCHAR (255) NULL,
    [DistinctValues]                         VARCHAR (255) NULL,
    [PartitionStatement]                     VARCHAR (255) NULL,
    [BK_RefType_ObjectType]                  VARCHAR (255) NULL,
    [FullLoad]                               VARCHAR (255) NULL,
    [InsertOnly]                             VARCHAR (255) NULL,
    [InsertNoCheck]                          VARCHAR (255) NULL,
    [BigData]                                VARCHAR (255) NULL,
    [BK_Template_Load]                       VARCHAR (255) NULL,
    [BK_Template_Create]                     VARCHAR (255) NULL,
    [CustomStagingView]                      VARCHAR (255) NULL,
    [BK_RefType_RepositoryStatus]            VARCHAR (255) NULL,
    [IsSystem]                               VARCHAR (255) NULL,
    [LayerName]                              VARCHAR (255) NULL,
    [BK_LinkedService]                       VARCHAR (255) NULL,
    [LinkedServiceName]                      VARCHAR (255) NULL,
    [BK_DataSource]                          VARCHAR (255) NULL,
    [BK_Layer]                               VARCHAR (255) NULL,
    [CreateDummies]                          VARCHAR (255) NULL,
    [FlowOrder]                              VARCHAR (255) NULL,
    [FlowOrderDesc]                          VARCHAR (MAX) NULL,
    [FirstDefaultDWHView]                    VARCHAR (255) NULL,
    [DatasetType]                            VARCHAR (255) NULL,
    [ObjectType]                             VARCHAR (255) NULL,
    [SRC_ObjectType]                         VARCHAR (255) NULL,
    [TGT_ObjectType]                         VARCHAR (255) NULL,
    [RepositoryStatusName]                   VARCHAR (255) NULL,
    [RepositoryStatusCode]                   VARCHAR (255) NULL,
    [isDWH]                                  VARCHAR (255) NULL,
    [isSRC]                                  VARCHAR (255) NULL,
    [isTGT]                                  VARCHAR (255) NULL,
    [isRep]                                  VARCHAR (255) NULL,
    [view_defintion_contains_business_logic] VARCHAR (255) NULL,
    [view_defintion]                         VARCHAR (MAX) NULL,
    [ToDeploy]                               VARCHAR (255) NULL,
    [mta_Createdate]                         DATETIME2 (7) DEFAULT (getdate()) NULL,
    [mta_RecType]                            SMALLINT      DEFAULT ((1)) NULL,
    [mta_BK]                                 CHAR (255)    NULL,
    [mta_BKH]                                CHAR (128)    NULL,
    [mta_RH]                                 CHAR (128)    NULL,
    [mta_Source]                             VARCHAR (255) NULL
);


GO
CREATE UNIQUE NONCLUSTERED INDEX [Uix_bld_Dataset]
    ON [bld].[Dataset]([mta_BKH] DESC, [mta_RH] DESC, [mta_Createdate] DESC);


GO
CREATE CLUSTERED INDEX [Cix_bld_Dataset]
    ON [bld].[Dataset]([BK] ASC, [mta_BKH] ASC, [Code] ASC, [mta_RH] ASC, [mta_Createdate] DESC);

